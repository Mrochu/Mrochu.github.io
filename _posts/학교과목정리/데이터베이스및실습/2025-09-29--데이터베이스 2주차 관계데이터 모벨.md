---
layout: post
title:  "데이터베이스 2주차 관계데이터 모벨"
date:   2025-09-29- 13:11:14 +0900
categories: [학교과목정리,데이터베이스및실습]
---
## 1. 관계 데이터 모뎅의 개념

### 1. 릴레이션 개념
- 릴레이션의 개념 : 행과 열로 이루어진 테이블을 의미
- 관계의 의미: 릴레이션 내 외부의 간의 연결성과 관계를 의미

### 2. 릴레이션 스키마와 인스턴스
- 속성(애트리뷰트,열) , 차수(디그리) : 속성의 개수
- 튜플(행), 카디널리티 : 튜플의 수 
- 스키마(내표) , 인스턴스(외연)

### 3. 릴레이션의 특징
 속성은 단일 값을 가짐
 속성은 서로 다른 이름을 가짐
 한 속성의 값은 모두 같은 도메인 값을 가짐
 속성의 순서는 상관없음
 릴레이션 내의 중복된 투플은 허용하지 않음
 투플의 순서는 상관없음

4. 관계 데이터 모델
데이터를 2차원 테이블 형태인 릴레이션으로 표현
릴레이션에대한 관계대수를 바탕으로 SQL 로 구현

## 2. 무결성 제약조건
### 1. 키
키라는 것은 무엇인가를 유일하게 식별할수 있게하는것
키는 값이 반드시 다르기에 튜플을 서로 구별할수 있어야 한다.

- 슈퍼키 : 튜플을 유일하게 식별할수 있는 하나의 속성또는 속성의 집합
- 후보키 : 튜플을 유일하게 식별할수 있는 속성의 최소 집합
- 기본키 : 여러 후보키 중에서 하나를 선정하여 대표로 삼는 키
- 대리키 : 기본키가 보안을 필요로 한거 여러개의 속성으로 구성되어 복잡하여 마땅한 기본키가 없을떄 가상의 속성을 만들어 기본키로 삼는경우에 생기는키
- 대체키 : 기본키로 선정되지 않은 후보키
- 외래키 : 다른 릴레이션의 기본키를 참조하는 속성 양쪽의 도메인이 같아야 한다.

슈퍼키 안에 기본키,대체키가 각각 있다고 보면 된다.

### 2. 무결성 제약조건
- 데이터 무셩성
데이터 베이스에 저장된 데이터의 일관성과 정확성을 지키는것
일관성과 정확성을 바탕으로 구축된 데이터 베이스가 무결성을 유지하기 위해서는 튜플의 삽입 삭제 수정시 데이터의 제약조건준수를 확인을 해야함

- 무결성 제액조건
    - 도메인 무결성 제약조건
        릴레이션애의 튜플들이 각 속성의 도메인에 지정된 값만을 가져야 한다는것
        ex) int 는 숫자 char은 문자 이런식으로
    - 개체 무결성 제약조건
        기본키 제약, 릴레이션은 기본키를 지정할떄 기본키는 유일성과 무결성이 존재 해서는 안된다는것
    - 참조 무결성 제약조건
        외레키 제약, 릴레이션의 참조관계에서 외래키의 도메인은 동일해야 하는등의 제약조건

### 무결성 제약조건의 수행
- 게체 무결성 제약조건의 수행
    - 삽입 : 기본키를 바탕으로 개체 무결성 제약조건을 지키면서 수행
    - 수정 : 삽입과 동일한 제약에 따라 처리
    - 삭제 특별한 확인이 필요치 않음

- 참조 무결성 제약조건 수행
    - 삽입 : 자식 릴레이션에서 도메인 무결성 제약조건을 확인후 개체 무결성 제약조건에 위반되는 값이 없는지 확인
    만일 릴레이션에서 외래키에 대하여 null 값을 허용하였다면 검사 없이 삽입 가능
    - 삭제 : 자식릴레이션의 경우 삭제에 검사 필요 없음
    부모 릴레이션일 경우에는 참조 무결성 제약조건을 확인하며 삭제 
    
    삭제와 관련된 명령어들
    - RESTRICTED    : 자식 릴레이션이 부모를 참조하면 삭제거부
    - CASCADE       : 자식과 부모의 릴레이션을 함꼐 삭제함
    - DEFAULT       : 자식릴레이션의 관련값을 미리 설정한 기본값으로 변경
    - NULL          : 자식릴레이션의 관련 튜플을 NULL 갑승로 변경


## 3. 관계 대수
### 1. 관계대수
- 괸계대수 : 릴레이션에서 원하는 결과를 얻기 위해서 대수학의 대수와 같은 연산을 이용하여 질의 하는 방법을 기술하는 절차적 언어
### 2. 셀렉션과 프로젝션
- 셀렉션 : 릴레이션의 튜플을 추출하기 위한 연산 σ<조건>(R)
ex) σ가격＜= 8000 (도서) <- 도서 테이블에서 가격이 8000원이하인 것들을 리턴하라

- 프로젝션 : 릴레이션의 속성을 추출하기 위한 단항 연산자. π<속성리스트>(R)
π이름, 주소, 핸드폰 (고객) <- 고객 테이블에서 이름 주소 핸드폰 속성만 빼서 새로운 테이블을 생성

### 3. 집함연산
- 합집합 : 수학의 합집합과 동일한 개념으로 두개의 릴레이션으 합하여 하나의 릴레이션을 반환
- 교집합 : 합변가능한 두릴레이션을 대상으로 하여 두개의 릴레이션이 공통으로 가지고 있는 튜플을 반환
- 차집합  : 첫번쨰 릴레이션에는 속하고 두번째 릴레이션에는 속하지 않는 릴레이션을 반환

집합 연산자의 사용조건 
두 릴레시연싀 차수가 동일해야 하고 각속성의 도메인이 동일해야 한다.

- 카티션 프로덕트 : 수평적 연산으로 카티션 프로덕트는 두릴레이션을 연결시켜 하나로 합칠떄 사용
즉 외래키를 가진 부모 자식을 하나로 엮는다고 보면된다.

### 4. 조인
두 릴레이션의 공통속성을 기준으로 속성값이 같은 투플을 수평으로 결합하는 연산
조인연산은 기본조인 연산과 확장조인 연산으로 구분돤다.

- 기본조인 연산
    - 세타조인
        두 릴레이션간의 속성값을 비교하여 조건에 맞는 튜플을 반환함
    - 자연조인
        속성값이 같은 튜플만 반환하는 동등조인 속성 이름이 같은 튜플만 대상으로 하되 중복 속성을 제거하고 반환함
    - 동등조인
        보통의 조인연산을 의미한다.

    - 외부조인
        자연조인시 조인에 실패한 튜플을 보여주되 값이 없을시 null값을 채워서 반환함
    - 세미조인
        자연조인을 한후 두 릴레시션중 한쪽릴레이션의 값만을 반환함

### 5. 디비전
다른 연산과 달리 릴레이션 속성값의 집합으로 연산을 수행함